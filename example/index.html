<!DOCTYPE html>
<html>
<head>

    <link rel="stylesheet" href="codemirror.css">
    <script type='text/javascript' src='JSTest.js'></script>
    <script type='text/javascript' src='codemirror.js'></script>
    <script type='text/javascript' src='javascript.js'></script>

    <script>
        var myCodeMirror;
        function load() {
            myCodeMirror = CodeMirror(document.body, {
                value: "var __ = new JSTest();\n\n__.setup(\"Math Test Suite\", function() {\n  \n    __.test(\"two plus two is 4\", function() {\n        __.expect(2+2).is(4);\n    });\n  \n    __.test(\"three plus three is not 5\", function() {\n        __.expect(3 + 3).not(5);\n    });\n});\n\n__.setup(\"Containment Test Suite\", function() {\n    \n    __.test(\"string contains foo\", function() {\n        __.expect(\"foo bar baz\").has(\"foo\");\n    });\n    \n    __.test(\"array contains bar\", function() {\n        __.expect([\"foo\", \"bar\", \"baz\"]).has(\"bar\");\n    });\n});\n\n__.setup(\"Existence Test Suite\", function() {\n    __.test(\"object exists\", function() {\n        __.expect(window).exists();\n    });\n});",
                mode: "javascript",
                lineNumbers: true,
                autofocus: true
            });
        }
    </script>

    <style type="text/css">
        .CodeMirror {
            border: 1px solid #cccccc;
            height: 500px;
        }
    </style>

</head>
<body onload="load()">
<br/>

<div>Test results will show in the JavaScript console</div>
<br/>

<div>
    <button id='execButton' onclick='runNewTest()'>Run Tests</button>
</div>
<br/>
<script>
    function runNewTest() {
        location.href = "javascript:" + myCodeMirror.getValue();
    }
</script>
</body>
</html>
